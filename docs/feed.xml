<rss xmlns:atom="http://www.w3.org/2005/Atom" version="2.0">
<channel>
  <title>æ²ˆå”çš„ç¼–ç¨‹ç¬”è®°</title>
  <atom:link href="https://notes.qq52o.me/feed.xml" rel="self" type="application/rss+xml" />
  <link>https://notes.qq52o.me</link>
  <description>æ²ˆå”çš„ç¼–ç¨‹ç¬”è®°</description>
   
  <item>
    <title><![CDATA[Git]]></title>
    <link>https://notes.qq52o.me/#/tools/git</link>
    <guid isPermaLink="false">https://notes.qq52o.me/#/tools/git</guid>
    <description><![CDATA[<h1 id="git">Git</h1>
<h2 id="ä¿®æ”¹æœ€åä¸€æ¬¡æäº¤çš„commitä¿¡æ¯">ä¿®æ”¹æœ€åä¸€æ¬¡æäº¤çš„commitä¿¡æ¯</h2>
<pre class="shell"><code>git commit --amend</code></pre>
<h2 id="æ’¤é”€ä¸Šä¸€æ¬¡çš„commit">æ’¤é”€ä¸Šä¸€æ¬¡çš„commit</h2>
<pre class="shell"><code>git reset HEAD~</code></pre>
<h2 id="ä¿®æ”¹remote-url">ä¿®æ”¹remote url</h2>
<ul>
<li>ç›´æ¥ä¿®æ”¹</li>
</ul>
<pre class="shell"><code>git remote set-url origin git@github.com:UserName/Repository.git</code></pre>
<ul>
<li>å…ˆåˆ ååŠ </li>
</ul>
<pre class="shell"><code>git remote rm origin
git remote add origin git@github.com:UserName/Repository.git</code></pre>
<h2 id="åŒæ—¶æ¨é€å¤šä¸ªå¹³å°">åŒæ—¶æ¨é€å¤šä¸ªå¹³å°</h2>
<pre class="shell"><code>#github
git remote add origin git@github.com:UserName/Repository.git

#ç äº‘
git remote set-url --add origin git@gitee.com:UserName/Repository.git</code></pre>
<h2 id="å›æ»šä¸Šæ¬¡pushçš„æäº¤">å›æ»šä¸Šæ¬¡pushçš„æäº¤</h2>
<div class="sourceCode" id="cb6"><pre class="sourceCode bash"><code class="sourceCode bash"><a class="sourceLine" id="cb6-1" title="1"><span class="fu">git</span> reset --hard HEAD^</a>
<a class="sourceLine" id="cb6-2" title="2"><span class="fu">git</span> add .</a>
<a class="sourceLine" id="cb6-3" title="3"><span class="fu">git</span> commit</a>
<a class="sourceLine" id="cb6-4" title="4"><span class="co">#å¼ºæ¨</span></a>
<a class="sourceLine" id="cb6-5" title="5"><span class="fu">git</span> push -f origin <span class="op">&lt;</span>branch_name<span class="op">&gt;</span></a></code></pre></div>
<h2 id="ä¿æŒforkä¹‹åçš„é¡¹ç›®å’Œä¸Šæ¸¸åŒæ­¥">ä¿æŒforkä¹‹åçš„é¡¹ç›®å’Œä¸Šæ¸¸åŒæ­¥</h2>
<div class="sourceCode" id="cb7"><pre class="sourceCode bash"><code class="sourceCode bash"><a class="sourceLine" id="cb7-1" title="1"><span class="co">#æ·»åŠ ä¸Šæ¸¸ä»“åº“</span></a>
<a class="sourceLine" id="cb7-2" title="2"><span class="fu">git</span> remote add upstream [upstream_url]</a>
<a class="sourceLine" id="cb7-3" title="3"></a>
<a class="sourceLine" id="cb7-4" title="4"><span class="co">#fetch</span></a>
<a class="sourceLine" id="cb7-5" title="5"><span class="fu">git</span> fetch upstream</a>
<a class="sourceLine" id="cb7-6" title="6"></a>
<a class="sourceLine" id="cb7-7" title="7"><span class="co">#å°†upstream/&lt;branch_name&gt; mergeåˆ°æœ¬åœ°å½“å‰åˆ†æ”¯</span></a>
<a class="sourceLine" id="cb7-8" title="8"><span class="fu">git</span> merge upstream/<span class="op">&lt;</span>branch_name<span class="op">&gt;</span></a>
<a class="sourceLine" id="cb7-9" title="9"></a>
<a class="sourceLine" id="cb7-10" title="10"><span class="co">#åŒæ—¶åˆ«å¿˜äº†pushåˆ°è‡ªå·±çš„githubä»“åº“</span></a>
<a class="sourceLine" id="cb7-11" title="11"><span class="fu">git</span> push origin <span class="op">&lt;</span>branch_name<span class="op">&gt;</span></a></code></pre></div>
<h2 id="åˆå¹¶æŸä¸ªcommitid">åˆå¹¶æŸä¸ªcommitId</h2>
<div class="sourceCode" id="cb8"><pre class="sourceCode bash"><code class="sourceCode bash"><a class="sourceLine" id="cb8-1" title="1"><span class="fu">git</span> cherry-pick commitId</a></code></pre></div>
<h2 id="to-443">22 to 443</h2>
<p>gitçš„sshä½¿ç”¨22ç«¯å£ä¸å¯ç”¨æ—¶ï¼Œå¯ä»¥ä½¿ç”¨443ç«¯å£</p>
<div class="sourceCode" id="cb9"><pre class="sourceCode bash"><code class="sourceCode bash"><a class="sourceLine" id="cb9-1" title="1"><span class="ex">vim</span> ~/.ssh/config</a>
<a class="sourceLine" id="cb9-2" title="2"></a>
<a class="sourceLine" id="cb9-3" title="3"><span class="co">#å†™å…¥</span></a>
<a class="sourceLine" id="cb9-4" title="4"><span class="ex">Host</span> github.com</a>
<a class="sourceLine" id="cb9-5" title="5">  <span class="ex">Hostname</span> ssh.github.com</a>
<a class="sourceLine" id="cb9-6" title="6">  <span class="ex">Port</span> 443</a></code></pre></div>
<h2 id="è®¾ç½®ssä»£ç†">è®¾ç½®SSä»£ç†</h2>
<div class="sourceCode" id="cb10"><pre class="sourceCode bash"><code class="sourceCode bash"><a class="sourceLine" id="cb10-1" title="1"><span class="ex">vim</span> ~/.ssh/config</a>
<a class="sourceLine" id="cb10-2" title="2"></a>
<a class="sourceLine" id="cb10-3" title="3"><span class="co">#å†™å…¥</span></a>
<a class="sourceLine" id="cb10-4" title="4"><span class="ex">Host</span> github.com</a>
<a class="sourceLine" id="cb10-5" title="5">   <span class="ex">HostName</span> github.com</a>
<a class="sourceLine" id="cb10-6" title="6">   <span class="ex">User</span> git</a>
<a class="sourceLine" id="cb10-7" title="7">   <span class="ex">ProxyCommand</span> nc -v -x 127.0.0.1:1086 %h %p</a></code></pre></div>
<p>!&gt; æ³¨æ„é…ç½®æ–‡ä»¶å†…çš„ 127.0.0.1:1086 éœ€è¦å’Œæœ¬åœ° SS å®¢æˆ·ç«¯çš„æ‰€æš´éœ²çš„ æœ¬åœ° Socks5 ç›‘å¬åœ°å€ å’Œ æœ¬åœ° Socks5 ç›‘å¬ç«¯å£ ä¸€è‡´</p>
<h2 id="webhook">WebHook</h2>
<p>ä½¿ç”¨Swooleçš„<code>Http\Server</code>æ¥ä½œä¸ºWebæœåŠ¡ï¼Œæ‰§è¡ŒGitHub/Giteeçš„WebHook</p>
<p><a href="https://github.com/sy-records/git-deploy">git-deploy</a></p>
<h2 id="å‹ç¼©åˆå¹¶commit">å‹ç¼©/åˆå¹¶commit</h2>
<pre class="shell"><code>git rebase -i HEAD~[number]

# example : git rebase -i HEAD~4
# HEADï½4çš„å«ä¹‰æ˜¯ä»å¤´éƒ¨å¼€å§‹è¿½æº¯4æ¡è®°å½•</code></pre>
<p>æ‰§è¡Œåè¿›å…¥ç¼–è¾‘æ¨¡å¼ï¼Œå°†éœ€è¦å‹ç¼©çš„commitå‰é¢çš„<code>pick</code>æ”¹ä¸º<code>squash</code></p>
<pre class="shell"><code># å–æ¶ˆ
git rebase --abort

# å› ä¸ºå†²çªæ‰“æ–­çš„è¯ æ‰§è¡Œcontinue
git rebase --continue

# å¼ºæ¨
git push -f origin &lt;branch_name&gt;</code></pre>
<h2 id="æ¸…é™¤æœ¬åœ°-remotesorigin">æ¸…é™¤æœ¬åœ° remotes/origin/*</h2>
<pre class="shell"><code>git remote prune origin</code></pre>
<h2 id="åˆ é™¤è¿œç¨‹åˆ†æ”¯">åˆ é™¤è¿œç¨‹åˆ†æ”¯</h2>
<pre class="shell"><code>git branch -r -d origin/&lt;branch_name&gt;
git push origin :&lt;branch_name&gt;</code></pre>
<h2 id="ä¿®æ”¹åˆ†æ”¯åç§°">ä¿®æ”¹åˆ†æ”¯åç§°</h2>
<pre class="shell"><code># æœ¬åœ°åˆ†æ”¯é‡å‘½å
git branch -m oldName newName
# å°†é‡å‘½ååçš„åˆ†æ”¯æ¨é€åˆ°è¿œç¨‹
git push origin newName
# åˆ é™¤è¿œç¨‹çš„æ—§åˆ†æ”¯
git push --delete origin oldName

git branch --unset-upstream
git branch --set-upstream-to=origin/&lt;branch_name&gt; &lt;branch_name&gt;</code></pre>
<h2 id="ä½¿ç”¨è¿œç¨‹è¦†ç›–æœ¬åœ°">ä½¿ç”¨è¿œç¨‹è¦†ç›–æœ¬åœ°</h2>
<p>è¿œç¨‹åˆ†æ”¯å¼ºæ¨åï¼Œæœ¬åœ°æ–‡ä»¶å†²çªï¼Œéœ€è¦ä½¿ç”¨è¿œç¨‹æ–‡ä»¶è¦†ç›–æœ¬åœ°æ–‡ä»¶æ—¶ä½¿ç”¨ã€‚</p>
<pre class="shell"><code>git fetch --all
git reset --hard origin/&lt;branch_name&gt;</code></pre>
<h2 id="æ‰¹é‡åˆ›å»ºåˆ é™¤.gitignoreæ–‡ä»¶">æ‰¹é‡åˆ›å»º/åˆ é™¤.gitignoreæ–‡ä»¶</h2>
<pre class="shell"><code>find . -type d -empty -exec touch {}/.gitignore \;

find ./ -type f -name &#39;.gitignore&#39; -delete</code></pre>
<h2 id="å°†æŸä¸ªåˆ†æ”¯çš„ä»£ç å®Œå…¨è¦†ç›–å¦ä¸€ä¸ªåˆ†æ”¯">å°†æŸä¸ªåˆ†æ”¯çš„ä»£ç å®Œå…¨è¦†ç›–å¦ä¸€ä¸ªåˆ†æ”¯</h2>
<pre class="shell"><code>#å°†teståˆ†æ”¯ä¸Šçš„ä»£ç å®Œå…¨è¦†ç›–devåˆ†æ”¯
git checkout dev
git reset --hard origin/test
git push -f</code></pre>
<h2 id="åˆ é™¤ä¸­é—´æŸæ¬¡æäº¤">åˆ é™¤ä¸­é—´æŸæ¬¡æäº¤</h2>
<pre class="shell"><code>#commit-id ä¸ºè¦åˆ é™¤çš„commitçš„ä¸‹ä¸€ä¸ªcommitå·
git rebase -i commit-id

#è¦åˆ é™¤çš„commitä¹‹å‰çš„æ”¹ä¸ºdrop
git push -f</code></pre>
<h2 id="ä¿®æ”¹æäº¤æ—¥æœŸ">ä¿®æ”¹æäº¤æ—¥æœŸ</h2>
<pre class="shell"><code>git filter-branch --env-filter \
&#39;if [ $GIT_COMMIT = f70cf6dc1dabb4ad0523a3259681b1e0fe43a788 ]
then
    export GIT_AUTHOR_DATE=&quot;Sun Apr 4 09:30:01 2021 +0800&quot;
    export GIT_COMMITTER_DATE=&quot;Sun Apr 4 09:30:01 2021 +0800&quot;
fi&#39;</code></pre>
<h2 id="è·å–æœ€åä¸€æ¬¡-commit-id">è·å–æœ€åä¸€æ¬¡ commit id</h2>
<pre class="shell"><code>git log --pretty=format:&quot;%h&quot; | head -1</code></pre>
<p>https://git-scm.com/docs/pretty-formats</p>
<h2 id="ésshæ¨¡å¼å…å¯†">éSSHæ¨¡å¼å…å¯†</h2>
<pre class="shell"><code>echo &#39;http://username:password@githost&#39; &gt;&gt; ~/.git-credentials</code></pre>
<h2 id="patch">Patch</h2>
<div class="sourceCode" id="cb23"><pre class="sourceCode bash"><code class="sourceCode bash"><a class="sourceLine" id="cb23-1" title="1"><span class="co"># æ‰€æœ‰æ–‡ä»¶</span></a>
<a class="sourceLine" id="cb23-2" title="2"><span class="fu">git</span> diff <span class="op">&gt;</span> xxx.patch</a>
<a class="sourceLine" id="cb23-3" title="3"></a>
<a class="sourceLine" id="cb23-4" title="4"><span class="co"># æŒ‡å®šæ–‡ä»¶</span></a>
<a class="sourceLine" id="cb23-5" title="5"><span class="fu">git</span> diff file1 file2 <span class="op">&gt;</span> xxx.patch</a>
<a class="sourceLine" id="cb23-6" title="6"></a>
<a class="sourceLine" id="cb23-7" title="7"><span class="co"># åº”ç”¨patch</span></a>
<a class="sourceLine" id="cb23-8" title="8"><span class="fu">git</span> apply xxx.patch</a></code></pre></div>
<h2 id="è·å–ä¸¤ä¸ªåˆ†æ”¯commitidçš„å·®å¼‚æ–‡ä»¶">è·å–ä¸¤ä¸ªåˆ†æ”¯/commitIDçš„å·®å¼‚æ–‡ä»¶</h2>
<div class="sourceCode" id="cb24"><pre class="sourceCode bash"><code class="sourceCode bash"><a class="sourceLine" id="cb24-1" title="1"><span class="fu">git</span> diff master dev --stat --name-only</a>
<a class="sourceLine" id="cb24-2" title="2"><span class="fu">git</span> diff xxxxxx xxxxxx --stat --name-only</a></code></pre></div>
<h2 id="git-æäº¤ç»Ÿè®¡">Git æäº¤ç»Ÿè®¡</h2>
<h3 id="æŒ‡å®šæ—¶é—´å†…æŸä¸ªäººçš„æäº¤ä»£ç è¡Œæ•°">æŒ‡å®šæ—¶é—´å†…æŸä¸ªäººçš„æäº¤ä»£ç è¡Œæ•°</h3>
<div class="sourceCode" id="cb25"><pre class="sourceCode bash"><code class="sourceCode bash"><a class="sourceLine" id="cb25-1" title="1"><span class="fu">git</span> log --author=<span class="st">&quot;username&quot;</span> --after=<span class="st">&quot;2022-08-01 00:00:01&quot;</span> --before=<span class="st">&quot;2022-09-15 23:59:59&quot;</span> --pretty=tformat: --numstat <span class="kw">|</span> <span class="fu">awk</span> <span class="st">&#39;{ add += $1; subs += $2; loc += $1 - $2 } END { printf &quot;added lines: %s, removed lines: %s, total lines: %s\n&quot;, add, subs, loc }&#39;</span> -</a></code></pre></div>
<h3 id="æŸä¸ªäººçš„æäº¤ä»£ç è¡Œæ•°">æŸä¸ªäººçš„æäº¤ä»£ç è¡Œæ•°</h3>
<div class="sourceCode" id="cb26"><pre class="sourceCode bash"><code class="sourceCode bash"><a class="sourceLine" id="cb26-1" title="1"><span class="fu">git</span> log --author=<span class="st">&quot;username&quot;</span> --pretty=tformat: --numstat <span class="kw">|</span> <span class="fu">awk</span> <span class="st">&#39;{ add += $1; subs += $2; loc += $1 - $2 } END { printf &quot;added lines: %s, removed lines: %s, total lines: %s\n&quot;, add, subs, loc }&#39;</span> -</a></code></pre></div>
<h3 id="æŒ‰ç”¨æˆ·æŸ¥çœ‹æäº¤ä»£ç è¡Œæ•°">æŒ‰ç”¨æˆ·æŸ¥çœ‹æäº¤ä»£ç è¡Œæ•°</h3>
<div class="sourceCode" id="cb27"><pre class="sourceCode bash"><code class="sourceCode bash"><a class="sourceLine" id="cb27-1" title="1"><span class="fu">git</span> log --format=<span class="st">&#39;%aN&#39;</span> <span class="kw">|</span> <span class="fu">sort</span> -u <span class="kw">|</span> <span class="kw">while</span> <span class="bu">read</span> <span class="va">name</span>; <span class="kw">do</span> <span class="bu">echo</span> -en <span class="st">&quot;</span><span class="va">$name</span><span class="st">\t&quot;</span><span class="kw">;</span> <span class="fu">git</span> log --author=<span class="st">&quot;</span><span class="va">$name</span><span class="st">&quot;</span> --pretty=tformat: --numstat <span class="kw">|</span> <span class="fu">awk</span> <span class="st">&#39;{ add += $1; subs += $2; loc += $1 - $2 } END { printf &quot;added lines: %s, removed lines: %s, total lines: %s\n&quot;, add, subs, loc }&#39;</span> -<span class="kw">;</span> <span class="kw">done</span></a></code></pre></div>
<h3 id="æŸ¥çœ‹æ¯ä¸ªç”¨æˆ·çš„æäº¤æ¬¡æ•°">æŸ¥çœ‹æ¯ä¸ªç”¨æˆ·çš„æäº¤æ¬¡æ•°</h3>
<div class="sourceCode" id="cb28"><pre class="sourceCode bash"><code class="sourceCode bash"><a class="sourceLine" id="cb28-1" title="1"><span class="fu">git</span> shortlog -s -n </a></code></pre></div>]]></description>
    <pubDate>Sun, 18 Sep 2022 08:33:23 +0800</pubDate>
  </item>
   
  <item>
    <title><![CDATA[Linux]]></title>
    <link>https://notes.qq52o.me/#/development/linux</link>
    <guid isPermaLink="false">https://notes.qq52o.me/#/development/linux</guid>
    <description><![CDATA[<h1 id="linux">Linux</h1>
<h2 id="ä¿®æ”¹ä¸»æœºå">ä¿®æ”¹ä¸»æœºå</h2>
<div class="sourceCode" id="cb1"><pre class="sourceCode bash"><code class="sourceCode bash"><a class="sourceLine" id="cb1-1" title="1"><span class="ex">hostnamectl</span> set-hostname</a></code></pre></div>
<p>é€€å‡º ssh é‡æ–°ç™»å½•åç”Ÿæ•ˆ</p>
<h2 id="æŸ¥çœ‹å¯¹åº”ç½‘å¡æµé‡">æŸ¥çœ‹å¯¹åº”ç½‘å¡æµé‡</h2>
<h3 id="å®‰è£…">å®‰è£…</h3>
<div class="sourceCode" id="cb2"><pre class="sourceCode bash"><code class="sourceCode bash"><a class="sourceLine" id="cb2-1" title="1"><span class="ex">yum</span> install iftop</a>
<a class="sourceLine" id="cb2-2" title="2"></a>
<a class="sourceLine" id="cb2-3" title="3"><span class="ex">apt-get</span> install iftop</a></code></pre></div>
<h3 id="ä½¿ç”¨">ä½¿ç”¨</h3>
<pre class="shell"><code>iftop -i eth0</code></pre>
<h2 id="ä¿®æ”¹sshç«¯å£">ä¿®æ”¹sshç«¯å£</h2>
<pre class="shell"><code>vim /etc/ssh/sshd_config

#ä¿®æ”¹portåé‡å¯
service sshd restart</code></pre>
<h2 id="æŸ¥çœ‹å‘½ä»¤æ˜¯å¦å­˜åœ¨">æŸ¥çœ‹å‘½ä»¤æ˜¯å¦å­˜åœ¨</h2>
<pre class="shell"><code>if nonce=$(type php-config 2&gt;&amp;1) ;then
  echo &quot;exist&quot;
else
  echo &quot;not exist&quot;
  exit $?
fi</code></pre>
<h2 id="ubuntu-è¿æ¥wifi">Ubuntu è¿æ¥wifi</h2>
<div class="sourceCode" id="cb6"><pre class="sourceCode bash"><code class="sourceCode bash"><a class="sourceLine" id="cb6-1" title="1"><span class="ex">suto</span> apt install net-tools wireless-tools network-manager</a>
<a class="sourceLine" id="cb6-2" title="2"></a>
<a class="sourceLine" id="cb6-3" title="3"><span class="ex">nmcli</span> dev wifi connect <span class="st">&quot;&quot;</span> password <span class="st">&quot;&quot;</span></a></code></pre></div>]]></description>
    <pubDate>Wed, 20 Apr 2022 13:31:13 +0800</pubDate>
  </item>
   
  <item>
    <title><![CDATA[Nginx]]></title>
    <link>https://notes.qq52o.me/#/gateway/nginx</link>
    <guid isPermaLink="false">https://notes.qq52o.me/#/gateway/nginx</guid>
    <description><![CDATA[<h1 id="nginx">Nginx</h1>
<h2 id="éšè—ç‰ˆæœ¬å·">éšè—ç‰ˆæœ¬å·</h2>
<p>è¿›å…¥ nginx é…ç½®æ–‡ä»¶çš„ç›®å½•ï¼Œç¼–è¾‘<code>nginx.conf</code></p>
<p>åœ¨<code>http {}</code>é‡ŒåŠ ä¸Š<code>server_tokens off;</code></p>
<p>ç¼–è¾‘ php-fpm é…ç½®æ–‡ä»¶ï¼Œå¦‚<code>fastcgi.conf</code>æˆ–<code>fcgi.conf</code></p>
<div class="sourceCode" id="cb1"><pre class="sourceCode ini"><code class="sourceCode ini"><a class="sourceLine" id="cb1-1" title="1"><span class="co">#æ‰¾åˆ°ï¼š</span></a>
<a class="sourceLine" id="cb1-2" title="2"><span class="dt">fastcgi_param SERVER_SOFTWARE nginx/$nginx_version;</span></a>
<a class="sourceLine" id="cb1-3" title="3"><span class="co">#æ”¹ä¸ºï¼š</span></a>
<a class="sourceLine" id="cb1-4" title="4"><span class="dt">fastcgi_param SERVER_SOFTWARE nginx;</span></a></code></pre></div>
<p>é‡è½½ nginx é…ç½®å³å¯</p>
<h2 id="åå‘ä»£ç†">åå‘ä»£ç†</h2>
<h3 id="http">HTTP</h3>
<div class="sourceCode" id="cb2"><pre class="sourceCode conf"><code class="sourceCode ini"><a class="sourceLine" id="cb2-1" title="1"><span class="co"># è‡³å°‘éœ€è¦ä¸€ä¸ª Server èŠ‚ç‚¹ï¼Œå¤šä¸ªé…ç½®å¤šè¡Œ</span></a>
<a class="sourceLine" id="cb2-2" title="2"><span class="dt">upstream http_servers {</span></a>
<a class="sourceLine" id="cb2-3" title="3"><span class="dt">    </span><span class="co"># HTTP Server çš„ IP åŠ ç«¯å£</span></a>
<a class="sourceLine" id="cb2-4" title="4"><span class="dt">    server 127.0.0.1:9501;</span></a>
<a class="sourceLine" id="cb2-5" title="5"><span class="dt">    server 127.0.0.1:9502;</span></a>
<a class="sourceLine" id="cb2-6" title="6"><span class="dt">}</span></a>
<a class="sourceLine" id="cb2-7" title="7"></a>
<a class="sourceLine" id="cb2-8" title="8"><span class="dt">server {</span></a>
<a class="sourceLine" id="cb2-9" title="9"><span class="dt">    </span><span class="co"># ç›‘å¬ç«¯å£</span></a>
<a class="sourceLine" id="cb2-10" title="10"><span class="dt">    listen 80;</span></a>
<a class="sourceLine" id="cb2-11" title="11"><span class="dt">    </span><span class="co"># ç»‘å®šçš„åŸŸå</span></a>
<a class="sourceLine" id="cb2-12" title="12"><span class="dt">    server_name proxy.host.name;</span></a>
<a class="sourceLine" id="cb2-13" title="13"></a>
<a class="sourceLine" id="cb2-14" title="14"><span class="dt">    location / {</span></a>
<a class="sourceLine" id="cb2-15" title="15"><span class="dt">        </span><span class="co"># å°†å®¢æˆ·ç«¯çš„ Host å’Œ IP ä¿¡æ¯ä¸€å¹¶è½¬å‘åˆ°å¯¹åº”èŠ‚ç‚¹</span></a>
<a class="sourceLine" id="cb2-16" title="16"><span class="dt">        proxy_set_header Host $http_host;</span></a>
<a class="sourceLine" id="cb2-17" title="17"><span class="dt">        proxy_set_header X-Real-IP $remote_addr;</span></a>
<a class="sourceLine" id="cb2-18" title="18"><span class="dt">        proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;</span></a>
<a class="sourceLine" id="cb2-19" title="19"></a>
<a class="sourceLine" id="cb2-20" title="20"><span class="dt">        </span><span class="co"># è½¬å‘Cookieï¼Œè®¾ç½® SameSite</span></a>
<a class="sourceLine" id="cb2-21" title="21"><span class="dt">        proxy_cookie_path / &quot;/; secure; HttpOnly; SameSite</span><span class="ot">=</span><span class="st">strict&quot;;</span></a>
<a class="sourceLine" id="cb2-22" title="22"></a>
<a class="sourceLine" id="cb2-23" title="23"><span class="dt">        </span><span class="co"># æ‰§è¡Œä»£ç†è®¿é—®çœŸå®æœåŠ¡å™¨</span></a>
<a class="sourceLine" id="cb2-24" title="24"><span class="dt">        proxy_pass http://http_servers;</span></a>
<a class="sourceLine" id="cb2-25" title="25"><span class="dt">    }</span></a>
<a class="sourceLine" id="cb2-26" title="26"><span class="dt">}</span></a></code></pre></div>
<ul>
<li><a href="/code/websocket.md">é…ç½® Websocket Wss ä»£ç†</a></li>
</ul>
<h2 id="ä¼ªé™æ€">ä¼ªé™æ€</h2>
<div class="sourceCode" id="cb3"><pre class="sourceCode conf"><code class="sourceCode ini"><a class="sourceLine" id="cb3-1" title="1"><span class="dt">location / {</span></a>
<a class="sourceLine" id="cb3-2" title="2"><span class="dt">    if (!-e $request_filename) {</span></a>
<a class="sourceLine" id="cb3-3" title="3"><span class="dt">        rewrite ^/(.*)$ /index.php/$1 last;</span></a>
<a class="sourceLine" id="cb3-4" title="4"><span class="dt">        break;</span></a>
<a class="sourceLine" id="cb3-5" title="5"><span class="dt">    }</span></a>
<a class="sourceLine" id="cb3-6" title="6"><span class="dt">}</span></a>
<a class="sourceLine" id="cb3-7" title="7"></a>
<a class="sourceLine" id="cb3-8" title="8"><span class="dt">location ~ \.php/?.*$ {</span></a>
<a class="sourceLine" id="cb3-9" title="9"><span class="dt">    fastcgi_pass 127.0.0.1:9000;</span></a>
<a class="sourceLine" id="cb3-10" title="10"><span class="dt">    fastcgi_index index.php;</span></a>
<a class="sourceLine" id="cb3-11" title="11"><span class="dt">    include fastcgi.conf;</span></a>
<a class="sourceLine" id="cb3-12" title="12"></a>
<a class="sourceLine" id="cb3-13" title="13"><span class="dt">    set $fastcgi_script_name2 $fastcgi_script_name;</span></a>
<a class="sourceLine" id="cb3-14" title="14"><span class="dt">    if ($fastcgi_script_name ~ &quot;^(.+\.php)(/.+)$&quot;) {</span></a>
<a class="sourceLine" id="cb3-15" title="15"><span class="dt">        set $fastcgi_script_name2 $1;</span></a>
<a class="sourceLine" id="cb3-16" title="16"><span class="dt">        set $path_info $2;</span></a>
<a class="sourceLine" id="cb3-17" title="17"><span class="dt">    }</span></a>
<a class="sourceLine" id="cb3-18" title="18"><span class="dt">    fastcgi_param PATH_INFO $path_info;</span></a>
<a class="sourceLine" id="cb3-19" title="19"><span class="dt">    fastcgi_param SCRIPT_FILENAME $document_root$fastcgi_script_name2;</span></a>
<a class="sourceLine" id="cb3-20" title="20"><span class="dt">    fastcgi_param SCRIPT_NAME $fastcgi_script_name2;</span></a>
<a class="sourceLine" id="cb3-21" title="21"><span class="dt">}</span></a></code></pre></div>]]></description>
    <pubDate>Wed, 16 Feb 2022 10:43:37 +0800</pubDate>
  </item>
   
  <item>
    <title><![CDATA[logo](https://cdn.jsdelivr.net/gh/lufei/notes/docs/images/huaji.png)]]></title>
    <link>https://notes.qq52o.me/#/_coverpage</link>
    <guid isPermaLink="false">https://notes.qq52o.me/#/_coverpage</guid>
    <description><![CDATA[<figure>
<img src="https://cdn.jsdelivr.net/gh/lufei/notes/docs/images/huaji.png" alt="logo" /><figcaption>logo</figcaption>
</figure>
<h1 id="æ²ˆå”å¿—">æ²ˆå”å¿—</h1>
<blockquote>
<p>ä¸€ä¸ª PHPer çš„æˆé•¿ä¹‹è·¯</p>
</blockquote>
<h3 id="dont-let-your-past-determine-the-future.-idcover-page-hitokoto">ğŸƒDonâ€™t let your past determine the future. :id=cover-page-hitokoto</h3>
<p><a href="https://github.com/sy-records">GitHub</a> <a href="#main">Getting Started</a></p>
<p><img src="https://cdn.jsdelivr.net/gh/sy-records/staticfile/images/202109/home-background.jpg" /></p>]]></description>
    <pubDate>Fri, 24 Sep 2021 09:19:43 +0800</pubDate>
  </item>
   
  <item>
    <title><![CDATA[Mac]]></title>
    <link>https://notes.qq52o.me/#/development/mac</link>
    <guid isPermaLink="false">https://notes.qq52o.me/#/development/mac</guid>
    <description><![CDATA[<h1 id="mac">Mac</h1>
<p>brew å·¥å…·å‚ç…§ <a href="tools/brew.md">Homebrew</a> è¿›è¡Œå®‰è£…ã€‚</p>
<h2 id="php">PHP</h2>
<p>å®‰è£… PHP72 æ¥ä»£æ›¿ç³»ç»Ÿè‡ªå¸¦çš„ PHPã€‚</p>
<pre class="shell"><code>brew install php@7.2
brew link php@7.2 --force</code></pre>
<pre class="shell"><code>brew install php@7.3
brew link php@7.3 --force

brew install php@7.4
brew link php@7.4 --force</code></pre>
<h2 id="composer">Composer</h2>
<pre class="shell"><code>brew install composer</code></pre>
<h2 id="mysql">MySQL</h2>
<pre class="shell"><code>#å…ˆå®‰è£…ä¸€ä¸‹ cmake
brew install cmake

#å®‰è£… MySQL
brew install mysql@5.7

#æ·»åŠ ç¯å¢ƒå˜é‡
echo &#39;export PATH=&quot;/usr/local/opt/mysql@5.7/bin:$PATH&quot;&#39; &gt;&gt; ~/.zshrc
source ~/.zshrc

#å¯åŠ¨ MySQL
brew services start mysql@5.7

#åˆå§‹åŒ– MySQLï¼Œè®¾ç½®å¯†ç ç›¸å…³çš„
mysql_secure_installation</code></pre>
<h2 id="mycli">MyCli</h2>
<p>MySQL çš„è‡ªåŠ¨è¡¥å…¨å’Œè¯­æ³•é«˜äº®å·¥å…·ã€‚</p>
<pre class="shell"><code>brew install mycli</code></pre>
<h2 id="redis">Redis</h2>
<pre class="shell"><code>brew install redis

#å¯åŠ¨ Redis
brew services start redis</code></pre>
<h2 id="ä¿®æ”¹-hosts">ä¿®æ”¹ hosts</h2>
<pre class="shell"><code>sudo vim /etc/hosts</code></pre>
<h2 id="core-dump">Core Dump</h2>
<pre class="shell"><code>sudo mkdir /cores 
sudo chown root:admin /cores 
sudo chmod 1775 /cores
sudo chmod o+w /cores

ulimit -c unlimited

lldb -c /cores/core.37676</code></pre>
<h2 id="touchbar">TouchBar</h2>
<p>éŸ³é‡å’Œäº®åº¦è°ƒèŠ‚æ¶ˆå¤±</p>
<div class="sourceCode" id="cb9"><pre class="sourceCode bash"><code class="sourceCode bash"><a class="sourceLine" id="cb9-1" title="1"><span class="fu">killall</span> ControlStrip</a></code></pre></div>
<h2 id="nginx">Nginx</h2>
<pre class="shell"><code>brew install nginx</code></pre>]]></description>
    <pubDate>Wed, 28 Jul 2021 14:41:23 +0800</pubDate>
  </item>
   
  <item>
    <title><![CDATA[Docker]]></title>
    <link>https://notes.qq52o.me/#/tools/docker</link>
    <guid isPermaLink="false">https://notes.qq52o.me/#/tools/docker</guid>
    <description><![CDATA[<h1 id="docker">Docker</h1>
<h2 id="åˆ é™¤æ‰€æœ‰å®¹å™¨">åˆ é™¤æ‰€æœ‰å®¹å™¨</h2>
<pre class="shell"><code>docker stop $(docker ps -qa)
docker rm $(docker ps -qa)</code></pre>
<h2 id="åˆ é™¤æ‰€æœ‰é•œåƒ">åˆ é™¤æ‰€æœ‰é•œåƒ</h2>
<pre class="shell"><code>docker rmi --force $(docker images -q)</code></pre>
<h2 id="docker-ce-é•œåƒ">Docker CE é•œåƒ</h2>
<pre class="shell"><code>curl -fsSL https://get.docker.com | bash -s docker --mirror Aliyun</code></pre>
<p>https://developer.aliyun.com/article/110806</p>
<h2 id="é€šè¿‡docker-overlay2ç›®å½•åæŸ¥æ‰¾å®¹å™¨åå’Œå®¹å™¨id">é€šè¿‡docker overlay2ç›®å½•åæŸ¥æ‰¾å®¹å™¨åå’Œå®¹å™¨ID</h2>
<pre class="shell"><code>docker ps -q | xargs docker inspect --format &#39;{{.State.Pid}}, {{.Id}}, {{.Name}}, {{.GraphDriver.Data.WorkDir}}&#39; | grep &quot;xxxxxxxx&quot;</code></pre>
<h2 id="å®‰è£…-docker-compose">å®‰è£… docker-compose</h2>
<div class="sourceCode" id="cb5"><pre class="sourceCode bash"><code class="sourceCode bash"><a class="sourceLine" id="cb5-1" title="1"><span class="ex">curl</span> -L https://get.daocloud.io/docker/compose/releases/download/1.29.2/docker-compose-<span class="kw">`</span><span class="fu">uname</span> -s<span class="kw">`</span>-<span class="kw">`</span><span class="fu">uname</span> -m<span class="kw">`</span> <span class="op">&gt;</span> /usr/local/bin/docker-compose</a>
<a class="sourceLine" id="cb5-2" title="2"><span class="fu">chmod</span> +x /usr/local/bin/docker-compose</a></code></pre></div>]]></description>
    <pubDate>Sun, 4 Jul 2021 20:05:30 +0800</pubDate>
  </item>
   
  <item>
    <title><![CDATA[å‰è¨€]]></title>
    <link>https://notes.qq52o.me/#/_sidebar</link>
    <guid isPermaLink="false">https://notes.qq52o.me/#/_sidebar</guid>
    <description><![CDATA[<ul>
<li>å‰è¨€
<ul>
<li><a href="donate.md">èµèµ</a></li>
</ul></li>
<li>ç¯å¢ƒæ­å»º
<ul>
<li><a href="development/mac.md">Mac</a></li>
<li><a href="development/linux.md">Linux</a></li>
</ul></li>
<li>å¸¸ç”¨å·¥å…·
<ul>
<li><a href="tools/git.md">Git</a></li>
<li><a href="tools/brew.md">Homebrew</a></li>
<li><a href="tools/phpstorm.md">PhpStorm</a></li>
<li><a href="tools/wp-cli.md">WP-CLI</a></li>
<li><a href="tools/docker.md">Docker</a></li>
<li><a href="tools/charles.md">Charles</a></li>
<li><a href="tools/wireshark.md">Wireshark</a></li>
<li><a href="tools/tools.md">Tools</a></li>
</ul></li>
<li>å¸¸ç”¨API
<ul>
<li><a href="api/short_url.md">çŸ­é“¾</a></li>
</ul></li>
<li>æ¡†æ¶
<ul>
<li><a href="framework/hyperf.md">Hyperf</a></li>
</ul></li>
<li>å®ä¾‹ä»£ç 
<ul>
<li><a href="code/hyperf-jsonrpc.md">JSON-RPC</a></li>
<li><a href="code/select2.md">Select2</a></li>
<li><a href="code/echarts.md">ECharts</a></li>
<li><a href="code/bootstrap.md">Bootstrap</a></li>
<li><a href="code/javascript.md">JavaScript</a></li>
<li><a href="code/cli.md">CLI</a></li>
<li><a href="code/layui.md">Layui</a></li>
<li><a href="code/nodejs.md">Node.js</a></li>
<li><a href="code/php.md">PHP</a></li>
</ul></li>
<li>æ•°æ®åº“
<ul>
<li><a href="database/mysql.md">MySQL</a></li>
<li><a href="database/postgresql.md">PostgreSQL</a></li>
</ul></li>
<li>ç½‘å…³
<ul>
<li><a href="gateway/nginx.md">Nginx</a></li>
</ul></li>
<li>WebSocket
<ul>
<li><a href="code/websocket.md">Wss</a></li>
<li><a href="http://wstool.js.org">åœ¨çº¿æµ‹è¯•</a></li>
</ul></li>
<li>è¯­è¨€
<ul>
<li><a href="language/python.md">Python</a></li>
</ul></li>
</ul>]]></description>
    <pubDate>Fri, 26 Mar 2021 13:39:58 +0800</pubDate>
  </item>
   
  <item>
    <title><![CDATA[PHP]]></title>
    <link>https://notes.qq52o.me/#/code/php</link>
    <guid isPermaLink="false">https://notes.qq52o.me/#/code/php</guid>
    <description><![CDATA[<h1 id="php">PHP</h1>
<h2 id="è¿›åˆ¶è½¬æ¢">è¿›åˆ¶è½¬æ¢</h2>
<div class="sourceCode" id="cb1"><pre class="sourceCode php"><code class="sourceCode php"><a class="sourceLine" id="cb1-1" title="1"><span class="co">// åå…­è¿›åˆ¶ åè¿›åˆ¶</span></a>
<a class="sourceLine" id="cb1-2" title="2"><span class="fu">var_dump</span><span class="ot">(</span><span class="fu">hexdec</span><span class="ot">(</span><span class="st">&#39;abc&#39;</span><span class="ot">));</span></a>
<a class="sourceLine" id="cb1-3" title="3"><span class="fu">var_dump</span><span class="ot">(</span><span class="fu">dechex</span><span class="ot">(</span><span class="dv">2748</span><span class="ot">));</span></a>
<a class="sourceLine" id="cb1-4" title="4"></a>
<a class="sourceLine" id="cb1-5" title="5"><span class="co">// äºŒè¿›åˆ¶ åè¿›åˆ¶</span></a>
<a class="sourceLine" id="cb1-6" title="6"><span class="fu">var_dump</span><span class="ot">(</span><span class="fu">bindec</span><span class="ot">(</span><span class="st">&#39;110011&#39;</span><span class="ot">));</span></a>
<a class="sourceLine" id="cb1-7" title="7"><span class="fu">var_dump</span><span class="ot">(</span><span class="fu">decbin</span><span class="ot">(</span><span class="dv">51</span><span class="ot">));</span></a>
<a class="sourceLine" id="cb1-8" title="8"></a>
<a class="sourceLine" id="cb1-9" title="9"><span class="co">// å…«è¿›åˆ¶ åè¿›åˆ¶</span></a>
<a class="sourceLine" id="cb1-10" title="10"><span class="fu">var_dump</span><span class="ot">(</span><span class="fu">octdec</span><span class="ot">(</span><span class="st">&#39;77&#39;</span><span class="ot">));</span></a>
<a class="sourceLine" id="cb1-11" title="11"><span class="fu">var_dump</span><span class="ot">(</span><span class="fu">decoct</span><span class="ot">(</span><span class="dv">63</span><span class="ot">));</span></a></code></pre></div>]]></description>
    <pubDate>Sun, 14 Mar 2021 09:01:53 +0800</pubDate>
  </item>
   
  <item>
    <title><![CDATA[Homebrew]]></title>
    <link>https://notes.qq52o.me/#/tools/brew</link>
    <guid isPermaLink="false">https://notes.qq52o.me/#/tools/brew</guid>
    <description><![CDATA[<h1 id="homebrew">Homebrew</h1>
<p>Homebrew ç®€ç§° brewï¼ŒHomebrew æ˜¯ä¸€æ¬¾ Mac OS å¹³å°ä¸‹çš„è½¯ä»¶åŒ…ç®¡ç†å·¥å…·ï¼Œå¾ˆæ–¹ä¾¿å¸®åŠ©æˆ‘ä»¬å®ç°å®‰è£…ã€å¸è½½ã€æ›´æ–°ã€æŸ¥çœ‹ã€æœç´¢ç­‰å¾ˆå¤šå®ç”¨çš„åŠŸèƒ½ã€‚</p>
<h2 id="å®‰è£…">å®‰è£…</h2>
<pre class="shell"><code>/usr/bin/ruby -e &quot;$(curl -fsSL https://raw.githubusercontent.com/Homebrew/install/master/install)&quot;</code></pre>
<h2 id="é…ç½®é•œåƒ">é…ç½®é•œåƒ</h2>
<pre class="shell"><code>cd &quot;$(brew --repo)&quot;
git remote set-url origin https://mirrors.ustc.edu.cn/brew.git
cd &quot;$(brew --repo)/Library/Taps/homebrew/homebrew-core&quot;
git remote set-url origin https://mirrors.ustc.edu.cn/homebrew-core.git
cd &quot;$(brew --repo)/Library/Taps/homebrew/homebrew-cask&quot;
git remote set-url origin https://mirrors.ustc.edu.cn/homebrew-cask.git
brew update
#bash
echo &#39;export HOMEBREW_BOTTLE_DOMAIN=https://mirrors.ustc.edu.cn/homebrew-bottles&#39; &gt;&gt; ~/.bash_profile
source ~/.bash_profile

#zsh
echo &#39;export HOMEBREW_BOTTLE_DOMAIN=https://mirrors.ustc.edu.cn/homebrew-bottles&#39; &gt;&gt; ~/.zshrc
source ~/.zshrc</code></pre>
<h2 id="å¸¸ç”¨å‘½ä»¤">å¸¸ç”¨å‘½ä»¤</h2>
<pre class="shell"><code>#æŸ¥è¯¢ Homebrew ç‰ˆæœ¬
brew -v

#brewå¸®åŠ©
brew -h

#æ›´æ–°Homebrew
brew update

#å®‰è£…
brew install &lt;pkg_name&gt;

#å¸è½½
brew uninstall &lt;pkg_name&gt;

#æœç´¢
brew search &lt;pkg_name&gt;

#åˆ—å‡ºå®‰è£…åˆ—è¡¨
brew list

#æŸ¥çœ‹åŒ…å†…å®¹ä¿¡æ¯
brew info &lt;pkg_name&gt;

#æ›´æ–°åŒ…
brew upgrade &lt;pkg_name&gt;

#åˆ é™¤å…·ä½“æ—§è½¯ä»¶
brew cleanup &lt;pkg_name&gt;

#åˆ é™¤æ‰€æœ‰æ—§è½¯ä»¶
brew cleanup

#åˆ—å‡ºæ‰€æœ‰å®‰è£…çš„è½¯ä»¶é‡Œå¯ä»¥å‡çº§çš„
brew outdated       </code></pre>
<h2 id="brew-å’Œ-brew-cask-çš„åŒºåˆ«">brew å’Œ brew cask çš„åŒºåˆ«</h2>
<ul>
<li>brew ä¸»è¦ç”¨æ¥ä¸‹è½½ä¸€äº›ä¸å¸¦ç•Œé¢çš„å‘½ä»¤è¡Œä¸‹çš„å·¥å…·å’Œç¬¬ä¸‰æ–¹åº“æ¥è¿›è¡ŒäºŒæ¬¡å¼€å‘</li>
<li>brew cask ä¸»è¦ç”¨æ¥ä¸‹è½½ä¸€äº›å¸¦ç•Œé¢çš„åº”ç”¨è½¯ä»¶ï¼Œä¸‹è½½å¥½åä¼šè‡ªåŠ¨å®‰è£…ï¼Œå¹¶èƒ½åœ¨ Mac ä¸­ç›´æ¥è¿è¡Œä½¿ç”¨</li>
</ul>]]></description>
    <pubDate>Wed, 17 Feb 2021 14:25:50 +0800</pubDate>
  </item>
   
  <item>
    <title><![CDATA[Tools]]></title>
    <link>https://notes.qq52o.me/#/tools/tools</link>
    <guid isPermaLink="false">https://notes.qq52o.me/#/tools/tools</guid>
    <description><![CDATA[<h1 id="tools">Tools</h1>
<h2 id="jq">jq</h2>
<p>ç”¨äºå‘½ä»¤è¡Œè§£æjsonæ•°æ®ï¼Œ<a href="https://stedolan.github.io/jq/manual/">æ–‡æ¡£</a></p>
<h3 id="è·å–-swoole-release-ç‰ˆæœ¬">è·å– Swoole Release ç‰ˆæœ¬</h3>
<div class="sourceCode" id="cb1"><pre class="sourceCode bash"><code class="sourceCode bash"><a class="sourceLine" id="cb1-1" title="1"><span class="ex">curl</span> -s https://api.github.com/repos/swoole/swoole-src/releases/latest <span class="kw">|</span> <span class="ex">jq</span> <span class="st">&#39;.tag_name&#39;</span> -r</a></code></pre></div>
<h3 id="è·å–-tag">è·å– tag</h3>
<div class="sourceCode" id="cb2"><pre class="sourceCode bash"><code class="sourceCode bash"><a class="sourceLine" id="cb2-1" title="1"><span class="ex">curl</span> -s https://api.github.com/repos/swoole/swoole-src/tags <span class="kw">|</span> <span class="ex">jq</span> <span class="st">&quot;.[].name&quot;</span> -r <span class="kw">|</span> <span class="fu">grep</span> v4.5 <span class="kw">|</span> <span class="fu">head</span> -1</a></code></pre></div>]]></description>
    <pubDate>Fri, 8 Jan 2021 09:07:36 +0800</pubDate>
  </item>
  
</channel>
</rss>
